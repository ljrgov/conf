#!name=GitHubè®¿é—®ç§åº“
#!desc=æ”¯æŒè®¿é—® GitHub APIã€Raw æ–‡ä»¶ã€Gistã€Releases ç­‰ï¼ŒåŒ…æ‹¬ç§æœ‰ä»“åº“
#!category=ğŸ“˜åŠŸèƒ½æ¨¡å—
#!arguments=USERNAME:GITHUB_USERNAME,TOKEN:GITHUB_TOKEN
#!arguments-desc=[å‚æ•°è®¾ç½®]\nUSERNAME: å¡«å…¥ GitHub çš„ç”¨æˆ·å\nTOKEN: å¡«å…¥ GitHub ç”Ÿæˆçš„ Token\n\n[Token è·å–æ–¹å¼]\nå¤´åƒèœå• -> Settings -> Developer settings -> Personal access tokens -> Generate new token -> é€‰æ‹© repo å’Œ gist æƒé™
#------------------------------#
#å»ºè®®åˆ›å»ºæœ¬åœ°æ¨¡å—å½¢å¼#

[Header Rewrite]
# GitHub API è®¿é—®ï¼ˆç§æœ‰ä»“åº“æ–‡ä»¶å†…å®¹ï¼‰
http-request ^https?:\/\/api\.github\.com\/repos\/{{{USERNAME}}}\/.*\/contents\/.* header-del Authorization
http-request ^https?:\/\/api\.github\.com\/repos\/{{{USERNAME}}}\/.*\/contents\/.* header-add Authorization "token {{{TOKEN}}}"

# Raw æ–‡ä»¶è®¿é—®ï¼ˆç§æœ‰ä»“åº“ï¼‰
http-request ^https?:\/\/raw\.githubusercontent\.com\/{{{USERNAME}}}\/.* header-del Authorization
http-request ^https?:\/\/raw\.githubusercontent\.com\/{{{USERNAME}}}\/.* header-add Authorization "token {{{TOKEN}}}"

# Gist è®¿é—®ï¼ˆç§æœ‰ Gist æ–‡ä»¶ï¼‰
http-request ^https?:\/\/gist\.github\.com\/{{{USERNAME}}}\/.* header-del Authorization
http-request ^https?:\/\/gist\.github\.com\/{{{USERNAME}}}\/.* header-add Authorization "token {{{TOKEN}}}"
http-request ^https?:\/\/gist\.githubusercontent\.com\/{{{USERNAME}}}\/.* header-del Authorization
http-request ^https?:\/\/gist\.githubusercontent\.com\/{{{USERNAME}}}\/.* header-add Authorization "token {{{TOKEN}}}"

# Releases è®¿é—®ï¼ˆç§æœ‰ä»“åº“çš„ä¸‹è½½é“¾æ¥ï¼‰
http-request ^https?:\/\/github\.com\/{{{USERNAME}}}\/.*\/releases\/download\/.* header-del Authorization
http-request ^https?:\/\/github\.com\/{{{USERNAME}}}\/.*\/releases\/download\/.* header-add Authorization "token {{{TOKEN}}}"

[MITM]
hostname = %APPEND% raw.githubusercontent.com, gist.githubusercontent.com, api.github.com, github.com
