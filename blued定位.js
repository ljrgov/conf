/*
1024更新Eric专属仅供研究学习，免费分享禁止转卖，如有后果自行承担法律责任
*/
var _0xod1='jsjiami.cn.v7';function _0x1679(_0x4fce2a,_0x6d5527){const _0x4214e2=_0x2676();return _0x1679=function(_0x48876e,_0x4e6989){_0x48876e=_0x48876e-0xff;let _0x267697=_0x4214e2[_0x48876e];if(_0x1679['aWKGRp']===undefined){var _0x16794b=function(_0x2ea655){const _0x158321='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2dfb76='',_0x53ea61='',_0x5e526b=_0x2dfb76+_0x16794b;for(let _0x3353c8=0x0,_0x3973a3,_0x4b27de,_0x18ed88=0x0;_0x4b27de=_0x2ea655['charAt'](_0x18ed88++);~_0x4b27de&&(_0x3973a3=_0x3353c8%0x4?_0x3973a3*0x40+_0x4b27de:_0x4b27de,_0x3353c8++%0x4)?_0x2dfb76+=_0x5e526b['charCodeAt'](_0x18ed88+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3973a3>>(-0x2*_0x3353c8&0x6)):_0x3353c8:0x0){_0x4b27de=_0x158321['indexOf'](_0x4b27de);}for(let _0x2b3e0b=0x0,_0x2a00ea=_0x2dfb76['length'];_0x2b3e0b<_0x2a00ea;_0x2b3e0b++){_0x53ea61+='%'+('00'+_0x2dfb76['charCodeAt'](_0x2b3e0b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x53ea61);};const _0x3fbe9a=function(_0x50d01d,_0x357fef){let _0x54320e=[],_0x5cf0e3=0x0,_0x4163b2,_0x1be767='';_0x50d01d=_0x16794b(_0x50d01d);let _0x5cfab6;for(_0x5cfab6=0x0;_0x5cfab6<0x100;_0x5cfab6++){_0x54320e[_0x5cfab6]=_0x5cfab6;}for(_0x5cfab6=0x0;_0x5cfab6<0x100;_0x5cfab6++){_0x5cf0e3=(_0x5cf0e3+_0x54320e[_0x5cfab6]+_0x357fef['charCodeAt'](_0x5cfab6%_0x357fef['length']))%0x100,_0x4163b2=_0x54320e[_0x5cfab6],_0x54320e[_0x5cfab6]=_0x54320e[_0x5cf0e3],_0x54320e[_0x5cf0e3]=_0x4163b2;}_0x5cfab6=0x0,_0x5cf0e3=0x0;for(let _0x2ed588=0x0;_0x2ed588<_0x50d01d['length'];_0x2ed588++){_0x5cfab6=(_0x5cfab6+0x1)%0x100,_0x5cf0e3=(_0x5cf0e3+_0x54320e[_0x5cfab6])%0x100,_0x4163b2=_0x54320e[_0x5cfab6],_0x54320e[_0x5cfab6]=_0x54320e[_0x5cf0e3],_0x54320e[_0x5cf0e3]=_0x4163b2,_0x1be767+=String['fromCharCode'](_0x50d01d['charCodeAt'](_0x2ed588)^_0x54320e[(_0x54320e[_0x5cfab6]+_0x54320e[_0x5cf0e3])%0x100]);}return _0x1be767;};_0x1679['OkVkkZ']=_0x3fbe9a,_0x4fce2a=arguments,_0x1679['aWKGRp']=!![];}const _0x118610=_0x4214e2[0x0],_0x25f25a=_0x48876e+_0x118610,_0xc0215c=_0x4fce2a[_0x25f25a];if(!_0xc0215c){if(_0x1679['MahvGQ']===undefined){const _0x5ec4ee=function(_0x2fb30d){this['CSTLrq']=_0x2fb30d,this['dOXnkh']=[0x1,0x0,0x0],this['jvafYz']=function(){return'newState';},this['fIbWPn']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['LirXxa']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5ec4ee['prototype']['FeFtwC']=function(){const _0x4c7962=new RegExp(this['fIbWPn']+this['LirXxa']),_0x52d841=_0x4c7962['test'](this['jvafYz']['toString']())?--this['dOXnkh'][0x1]:--this['dOXnkh'][0x0];return this['GIzpbf'](_0x52d841);},_0x5ec4ee['prototype']['GIzpbf']=function(_0x233e2d){if(!Boolean(~_0x233e2d))return _0x233e2d;return this['RdYWSN'](this['CSTLrq']);},_0x5ec4ee['prototype']['RdYWSN']=function(_0x597542){for(let _0x592498=0x0,_0x1b53e1=this['dOXnkh']['length'];_0x592498<_0x1b53e1;_0x592498++){this['dOXnkh']['push'](Math['round'](Math['random']())),_0x1b53e1=this['dOXnkh']['length'];}return _0x597542(this['dOXnkh'][0x0]);},new _0x5ec4ee(_0x1679)['FeFtwC'](),_0x1679['MahvGQ']=!![];}_0x267697=_0x1679['OkVkkZ'](_0x267697,_0x4e6989),_0x4fce2a[_0x25f25a]=_0x267697;}else _0x267697=_0xc0215c;return _0x267697;},_0x1679(_0x4fce2a,_0x6d5527);}function _0x2676(){const _0xe955cd=(function(){return[...[_0xod1,'PjVJKsjCiPpami.xpcBYqnIE.vFk7JTuTBBTXNU==','e8kDg8oTWPZcKweQWQFdQ8kAWQtdKCkoWOiYW6/cMJNcLSoeWQjXfq4sBSkXWRFdR8kHWOjiW4eSW4TDW5y','W5hdJYddG0NdQ8oqrSoYESkiWPVcTG','WPKuyIaU','W4tdS8k+dG','W6pdV8oFECkG','W5hdRSktgCoY','5P6r6l6G6koCWR/dTmoneZtcPtLfwUwoT+AvTUAyM+ApRW','aCkbqSoEWQhcHZrTW6VdKCkCWQxcJmoxWP96WRRdKc4','WPWIAspdPG','W4JcQCowW6VdQKif','F2VcLSkDWQ3cQLy','W44CWRDZdG','W5BdNJVdHW','WOZdQchcPry','cSkipmoyWOC','WPpcLmo0W77dTHnFgLNcM8o8pSovW5m2AmorW7ddNY9dAgS8qK4SW4JcHYdcM3JcJCodWONcMX7cThvHW5DhW7O9W7pcH8kFW5hcLZVcKgZdPdpdO3npcLJcJSkJW6VcNaGLqgbgcZlcPCkvhSkOwwpdLWxcTCkBWRRdTmk6feXpvSoLn8kh','rMZcRtKw','W7vSrCkora','nSkMo14','W47dJsy','peBdSa','W57dKCotWRW9','cxvWwcG','W5fKt8k+wa','ymkAW7i2yG','WOBcU3NcJmoU','cGtdSSkKEa','yHNcPmofffj/lmkSDCkIsa','W7eYW4pdVCom','W5hdImkJWRC0rGNdH8kTFSkcpq','5AYW56gN6AQl6k6O5AAs6lEN','W4OiW4ldPSol','n8ooW6SQra','WR7dOCoOA8k9ASoT','WO/cJ8otW7RdT0aEuG','WPNcOhBdUvu','W4ddGCk8FItdJSofW5ZdNmk2Emk2','W4RdMcBdMG','W6HsFSk2Ea','W5FcJZWJiG','WQldPCo0WRtdNq','rvhcQW','W6G2W5hdImoK','W7NcSejQWO0','WPi/tWebWQ/cKfi','zaOEouK9WPxdLHyzW4rb','W6FcMg5wWPTEEW','WRVcVIVdGby','W5ZcMaj9W6q','W6GfWOlcRSk5','i8oyaXy','W4RcJ2zrWQ5nEZ7dQLNdNCoq','WOWdAt0A','W7pcGviBBG','D1f/W7y5','WQGvWPxdG8olBCojWOpcJ1CbE8ok','W6BcKNCtFG','WRFdJqNcOJm','EhpcHmoFWQ0','BCk7W4ikiq','W5ddHCkTWR4XrsxdNCk1CmkenG','W4xdOJZdUuK','W69gC8kLza','W5ezW5NdM8ou','WQldNaW','bGZcVG','W7a5W5RdNmot','nvfErCo1','h8o4pIuZW5lcUwmJ','Ae7cMGuBWR0G','WRRcVWBdJXS','WPC+sW','oe1LyXb9W5dcMa','W6jaWOtcStS','W6/dI8ortmkptSo8','W5ddU8oqyCkK','k2zjACo2','W6pdOaFcUHr2weBdOgTYWOO','57QL57Up5BM/5PUb5O+95zcJ55IUWQtcQqhdI8oQ','c8kDhmoRWPG','zSkXW5a3tq','W4qrW5VcRZ/dHG','WO3cNCojjge','jGrjvG','W53dH8omq8kK','WQeXyaFcMa','6k+K5Qc75P2CwM4/FmoKW4tcGoMhOoE8L+s6K+EAKUwVP+EGIa','dGZcT1S','W7zvWOVcMqq','o8ocW74ku1mTBW','WRBcLgdcUGuQzG','DSo3DXPMWRjdu8kKW78','uSk9W7OlBq','WOVcKCoLnxtcKa','W7hcHfedEe0GW7miW6O','tCkeW5G3osDeWOGLkYBcHb/cKq','WRpcUfdcHW','cmkmdSoVWOZdGW','W5ZdQSoNzCk8','W5pdUZ3dG3i','WRxcOKBdPLu','W4ZdUXddJuS','WPCwDWxdISkHh8oYESo1a8kaCmonpgL/pMnZWORdT2iZEsydW4ldSdJcV8k0iq','WQ7dNXVcVXG','WQBdK8oSWRNdJ8kZW7HnWRngoSo+aq','W4vzCSkqF8keWRq','hNpcISkeWR8','D0lcGmoFWRe','zeXAW7yc','WQhcSmo0W7/dRW','WQOlBG','WORcGXhdIIG','W4NcMSoTl1dcI8oT','W7RdO8odwSkf','WPRcHsRdUXJdMeJcTNJcINy','WP7cKqTUW7BcISkR','p8kLh8oAWOW','q3amW5zMjCkS','fSkhawDn','oGPos8o5jmkhW5e','WRhcHmogn2u','mv0VW7HD','W5yPW4PHpq','W7ldUSo3zCk6'],...(function(){return['WOhcNtpdIqC','W6isW4y','o29zsCoj','WQBdR01vymosc3yyhCoHWOVdIG','W5VdOSooBCkO','buddPSkSFq','W6dcTs0qj8kixvG','W6mnWPHJiG','s1VcIc8C','kSk3n1PSW7e9dSkwW7ldGwJcMbX0uhjDjSoVW6RcQYuZW4TR','W6lcKfaeCG','5PYW57UR5lYP5PAE5zof55UgWOZdLCkyk8os','BePy','WRimFYG','FdaCg8oY','hxOaW5vl','kxb0rtC','ie1r','caFcL1RdMW','WP3dTsZcUsm','Frj1qYnZW4/cJq','EJhdI8ofWPpcOgWYzqm','W6RcOMmpFq','WRxcUfRcMW','nCk6WRZcUdG','tCoAx8kPW53cMsXnWO3dTCkUWOm','WQ3dOKHuy8ouxh0Zg8oaWRm','WRVcUfK','W7xcMtiHnG','W6yjW5XEhL8RBmkXdtxcTIRdRmo6W6FdNNLgAGW1WO3cN0THWOLCkSkMf2KFWOi7WQydmG4mgmoqkJxdJmkQWQtcSJCtW54aW6aRc8oZCCo2rIFcIxpcTqZcJCk+W7uHsNBdKSoxqmoIktySmmoSW4TNx8k7y8kXfx/dTLNcPCkJoIWyW6NdMfPVaCoSWOy','W7hdUCksm8oA','WPZcVmk2FW','WPW0waKvWR/cLa','WQpdSCo3WO/dMW','WQJdKmo+','r8knW5Giyq','f8osfZu9','pgdcJ8kzWOVcULG','F8kAW40','dunywZu','W6hcLfytDLqc','W5WbW7NdR8kRWOifjCkCn10oecRdHmoVWPm','W5DpW5ZcM8ksmSkqW6xdGXvDiCkMoMlcGSkPzw3cSCo/ASkCmmkKW4D3rY/dNX5OuLLyW4LaWOO3nCoTW68vnsDZW7/dGxldKSokpcdcOxRdMrjQWRVcJmkYWRjHW5aaAJzruKS+pCkQWR7dSSk0WO3dJ8kKWQTYW7FdTCoPW6eHW7xdR8o2WQ4PWO9vW6rRW77cOSkpWP7cMCkYWRHgkgCJdCkWsmkKyqxcICkaWOfIxqTxWQGml8kXguzuESoBWRddGJ3cPfDdA1yI','W77cNYJcHYdcHmoBca','WRRdNYNcUWW','W5qUW7ZdImoa','W6vdWOBcJZe','qCkFW4CQoc8','WQdcOCoXdL0','W5GOWONcOCkv','FdxdJmogW5NdRgCetG5mmG','W6ayWQhcI8kP','zKPbW5O','nvVdPCkzvq','whVcGJqW','W7ZcMg5aWP1e','W6LpW5tcHSk8jW','igzf','ySoJWPZcHqqlnca','W6xcN0z2WQ0','W6/cVq1vW4O','F8kaW4q3fa','W5aEW6NdQmoOW5afFq','xe3cOa','W7hcNKWey1iwW7KiW7WU','kSk3n1PSW7e9dSkBW7ldNhVdGr50qg8gjSo3W7RcTNKZW4TOW5LrfI0jWRtdICk2a8kUtCkWW4f4WQ01W7iptCkmmh7cGmopWPtdHeSvfSkwzgSXW79vW6dcV8kNW7ekzCorW7ToW6SpWRldRsWwWRGUhCknWQhcMwOprmkUW7VcPGFdTCkGba','WQZcGY3dOYy','W7VdI8oewSknuG','WRlcShlcUmoS','5PQe5O6l5zgH55IzW4/dVHXjW7W','W7ZdQmoHEmkV','W5H0DSkGEq','ESk26io/57k45zo+6k6O','acJdSCkPCW','W68+W6rRdG','W7RdMCkCjmoN','mmkZjSoBWPu','W6VdM8owxmkbv8orW5fPpc3dP1tcJCko','W58GW4lcNa0','W5pdS8kIh8oCWRi8hW','W63cVgjgWOy','WPiGwaVcVW','W7eyWRrZca','mMZdMCk7Fq','W6iNWOVcLmkYW6ZcSa','W4KWnmoBW4G','WRaRysCI','WQmpBGldQq','WQ3cMfNcOmoi','W5ddRCohWOiC','EMBcQ8oKWOa','WQxcO1hdUWONt1pdJ24','WRO8z8kcWQa','r8kbW705mG','jg/dK8kMzG','WQ8QtqJcVG','oSkPaMDX','WORcHhRcHblcTSk+aCk4mCopW5O','sSkCW7i3qW','gtBdJCkDqq','6isj5P+x6ykJ6l69dbjRW5BdNCoZWO3OO5lNPl/NLl7JGkm','W5ZcRdni','W79qWR/cQH4','W4tcH0j4WQG','iSojWOPdAcr1W4hdHSoZ','p8oBpIe/','W4ddJIxdIwa','W4VcJwL8WPG','WQhcQCohWR4BymofW6S','WP7cN07dV2m','d8kSounZWQDZdSojWRxcNY/dHXbnxgGDiCk5WQNcUKqdWOq3WPSAsxCwW6ZcHSkit8kotCkWWPz7WRy0W7ijx8kdtr/cN8kDW4BcLr4rgCkVy3iXWQToW6ddKSoYW74fB8k7W7jdWR0lWQddTLrwW749u8kPW6BcIguBx8k4W73dVupcUSk6b1ee','W77cNvJdQIxcL8oBfCoIW7a','5y2M5AsHzmoDpSoMbW','WOnzrmkCWO/cT8kFgCkxWRrgpq','WOZcSSoaf1y','W5pcLIGQbG','yH88dmoz','amoYjcy7W5lcRq','bHddT8ktW7LWW47dImkbc8k7DG','W4rvC8k9zW','WRtcG2BcSry','WQ7cLSoMW65r','pIPstmoz','WQO3ECk3WPa'];}())];}());_0x2676=function(){return _0xe955cd;};return _0x2676();};const _0x4140f1=_0x1679;(function(_0x55a5c2,_0x4db342,_0x139c34,_0x199db1,_0x399cb3,_0x285f08,_0xd0c998){return _0x55a5c2=_0x55a5c2>>0x3,_0x285f08='hs',_0xd0c998='hs',function(_0x56901e,_0x41de2d,_0x46e6fa,_0x23ca0c,_0x38f3a6){const _0x86cca0=_0x1679;_0x23ca0c='tfi',_0x285f08=_0x23ca0c+_0x285f08,_0x38f3a6='up',_0xd0c998+=_0x38f3a6,_0x285f08=_0x46e6fa(_0x285f08),_0xd0c998=_0x46e6fa(_0xd0c998),_0x46e6fa=0x0;const _0x2b27d6=_0x56901e();while(!![]&&--_0x199db1+_0x41de2d){try{_0x23ca0c=parseInt(_0x86cca0(0x19b,'yLvr'))/0x1*(parseInt(_0x86cca0(0x120,'K(Il'))/0x2)+-parseInt(_0x86cca0(0x1a0,'$G)q'))/0x3*(-parseInt(_0x86cca0(0x14f,'yLvr'))/0x4)+parseInt(_0x86cca0(0x148,'LV[E'))/0x5*(parseInt(_0x86cca0(0x14c,'8[Vk'))/0x6)+-parseInt(_0x86cca0(0x11e,'1B9b'))/0x7*(-parseInt(_0x86cca0(0x186,'Xy]u'))/0x8)+-parseInt(_0x86cca0(0x162,'o*4F'))/0x9*(parseInt(_0x86cca0(0x1bb,'$%9H'))/0xa)+-parseInt(_0x86cca0(0x146,'RkHO'))/0xb*(parseInt(_0x86cca0(0x11b,'SY^E'))/0xc)+-parseInt(_0x86cca0(0x125,'COxk'))/0xd;}catch(_0x4e84e6){_0x23ca0c=_0x46e6fa;}finally{_0x38f3a6=_0x2b27d6[_0x285f08]();if(_0x55a5c2<=_0x199db1)_0x46e6fa?_0x399cb3?_0x23ca0c=_0x38f3a6:_0x399cb3=_0x38f3a6:_0x46e6fa=_0x38f3a6;else{if(_0x46e6fa==_0x399cb3['replace'](/[FquEJBVTUPxYkIXKCNp=]/g,'')){if(_0x23ca0c===_0x41de2d){_0x2b27d6['un'+_0x285f08](_0x38f3a6);break;}_0x2b27d6[_0xd0c998](_0x38f3a6);}}}}}(_0x139c34,_0x4db342,function(_0x540446,_0x5b5d89,_0x466ade,_0x2506c4,_0x5c2d13,_0x1d8da6,_0x41c18a){return _0x5b5d89='\x73\x70\x6c\x69\x74',_0x540446=arguments[0x0],_0x540446=_0x540446[_0x5b5d89](''),_0x466ade=`\x72\x65\x76\x65\x72\x73\x65`,_0x540446=_0x540446[_0x466ade]('\x76'),_0x2506c4=`\x6a\x6f\x69\x6e`,(0x1888ec,_0x540446[_0x2506c4](''));});}(0x5e8,0x317b4,_0x2676,0xbf),_0x2676)&&(_0xod1=0x2475);const _0x43e8f6=(function(){const _0x4a8322=_0x1679,_0x4eea32={'UiqZZ':function(_0x26d529,_0x4521a4){return _0x26d529(_0x4521a4);},'rJsAH':function(_0x95010,_0x10e808){return _0x95010===_0x10e808;},'AFCqA':_0x4a8322(0x1ce,'$%9H'),'bbwcY':_0x4a8322(0x1d8,'L1Cl')};let _0x47323d=!![];return function(_0x19940f,_0xf984ff){const _0xf47ddc=_0x4a8322;if(_0x4eea32[_0xf47ddc(0x12a,'$r@a')](_0x4eea32[_0xf47ddc(0x187,'*Em2')],_0x4eea32[_0xf47ddc(0x119,'&W(6')]))return _0x4eea32[_0xf47ddc(0x1ac,'RkHO')](_0x4d760c,_0x2705f7);else{const _0x3df435=_0x47323d?function(){const _0xe1f558=_0xf47ddc;if(_0xf984ff){const _0x32c87c=_0xf984ff[_0xe1f558(0x192,'1B9b')](_0x19940f,arguments);return _0xf984ff=null,_0x32c87c;}}:function(){};return _0x47323d=![],_0x3df435;}};}()),_0x3a5536=_0x43e8f6(this,function(){const _0x289821=_0x1679,_0x4ba14f={'CUBGw':_0x289821(0x110,'&W(6')};return _0x3a5536[_0x289821(0x184,'#%IA')]()[_0x289821(0x1de,'SrPW')](_0x4ba14f[_0x289821(0x152,'j45U')])[_0x289821(0x1ad,'j45U')]()[_0x289821(0x1e7,'w%Yb')](_0x3a5536)[_0x289821(0x188,'yLvr')](_0x4ba14f[_0x289821(0x171,'Nabu')]);});_0x3a5536();const _0x257e93=new Env(_0x4140f1(0x193,'UAFe'));((async()=>{const _0x643393=_0x4140f1,_0x194b21={'bENMZ':function(_0x4933e1,_0x5bd8cf){return _0x4933e1(_0x5bd8cf);},'aCLEc':_0x643393(0x158,'$%9H'),'FfsiS':function(_0x170247,_0xb0228f){return _0x170247!==_0xb0228f;},'egLZN':_0x643393(0x17d,'yLvr'),'DpfNf':function(_0x1aa0c4,_0xa60235){return _0x1aa0c4(_0xa60235);},'tFDPA':function(_0x30c45f,_0x414714){return _0x30c45f===_0x414714;},'GaGxz':_0x643393(0x199,')Oqc'),'gNnSp':_0x643393(0x16f,'i*r7'),'xwwAk':_0x643393(0x1a8,'quO4'),'AduKT':function(_0x2f467a,_0x83cd83){return _0x2f467a+_0x83cd83;},'nWBgr':function(_0x69cc89,_0x2722aa){return _0x69cc89+_0x2722aa;},'GLVNS':_0x643393(0x1cd,'*Em2'),'bdNdD':_0x643393(0x1a2,'f&a)'),'jbIDS':function(_0x356ef0,_0x3cf70a){return _0x356ef0+_0x3cf70a;},'IpBpr':function(_0x5dbf21,_0x5c10d5){return _0x5dbf21+_0x5c10d5;},'JnxBf':_0x643393(0x1ca,'*Em2'),'wREPn':_0x643393(0x15a,'Nabu'),'qWoiK':_0x643393(0x1e8,'Xy]u'),'hVSze':function(_0x3131c0,_0x2536b5){return _0x3131c0(_0x2536b5);},'DLpGc':function(_0x651bb6,_0x33e737){return _0x651bb6===_0x33e737;},'vysmN':function(_0x177d67,_0x579ab0){return _0x177d67(_0x579ab0);},'WPCzZ':function(_0x4cfe19,_0x5a88d6){return _0x4cfe19===_0x5a88d6;},'fiuIy':_0x643393(0x1ef,'D7ro'),'TDBMR':_0x643393(0x15e,'SrPW'),'KzMJV':function(_0x2ff4c4,_0x3feebe){return _0x2ff4c4===_0x3feebe;},'xGyVj':function(_0x57a23c,_0x3d201a){return _0x57a23c===_0x3d201a;},'SLkEF':function(_0x1e0d80,_0x13b8d3){return _0x1e0d80===_0x13b8d3;},'xcFTe':function(_0x5b726d,_0x5adfae){return _0x5b726d===_0x5adfae;},'uTxAP':function(_0x3b4a8d,_0x47f166){return _0x3b4a8d===_0x47f166;},'GcKxo':function(_0x872526,_0x5dd4f9){return _0x872526+_0x5dd4f9;},'jphhV':function(_0x38c1a2,_0x2d3294){return _0x38c1a2(_0x2d3294);},'dEGwg':_0x643393(0x12c,'&W(6'),'SMAWc':function(_0x341e2a,_0x445fdb){return _0x341e2a!==_0x445fdb;},'CJiIw':_0x643393(0x12f,'8[Vk'),'UtkhP':_0x643393(0x153,'UAFe'),'utPIB':function(_0x6e6050){return _0x6e6050();},'gUzAu':function(_0x3f61ab,_0x252ecd){return _0x3f61ab!==_0x252ecd;},'jDnJE':_0x643393(0x114,'Ftxx'),'saKLN':function(_0x371f42,_0x39b109){return _0x371f42===_0x39b109;},'iZrYZ':_0x643393(0x145,'XsXs'),'zOgBj':_0x643393(0x13b,'#Hhg'),'YgKMo':_0x643393(0x113,'*Em2'),'EWFOJ':function(_0x44be05,_0xc0fb02){return _0x44be05(_0xc0fb02);},'bAmtx':_0x643393(0x149,'[3VZ'),'MzuQz':_0x643393(0x181,'*Em2'),'RZGjB':_0x643393(0x1df,'o*4F'),'PvuqU':_0x643393(0x11f,'Nabu'),'pDNmh':_0x643393(0x189,'w%Yb'),'pZZsz':_0x643393(0x18a,'D7ro'),'XTbOP':_0x643393(0x1f4,'8[Vk'),'zHpTg':function(_0x5159d5,_0x13fba6){return _0x5159d5||_0x13fba6;},'ombqI':function(_0x2441ca,_0x3054af){return _0x2441ca===_0x3054af;},'qsRyL':_0x643393(0x109,'COxk'),'ZPtqj':_0x643393(0x1d3,'1B9b'),'qaSEh':function(_0x34c5e7,_0x32b298){return _0x34c5e7||_0x32b298;},'zTRMT':_0x643393(0x191,'[3VZ'),'NOzvD':_0x643393(0x1e0,'DF[W'),'KBJCT':_0x643393(0x1b0,'Xy]u'),'tcUdi':_0x643393(0x1c4,'quO4'),'sXIJF':_0x643393(0x1d1,'o*4F'),'xbbqR':_0x643393(0x132,'^lVz'),'eRBRU':_0x643393(0x1d0,']nMc'),'LLnce':_0x643393(0x15d,'i*r7'),'WPlUJ':_0x643393(0x179,'kcjF'),'hAhnT':function(_0x1bcc81,_0x4b8c3b){return _0x1bcc81===_0x4b8c3b;},'QlGnL':_0x643393(0x1d6,'D7ro'),'rMfrk':function(_0x220cb6,_0x1be6e6){return _0x220cb6===_0x1be6e6;},'QeBXY':_0x643393(0x17c,'h65v'),'XUuIJ':_0x643393(0x1f3,'^lVz'),'mCZfB':_0x643393(0x1ec,'^lVz'),'QqotB':_0x643393(0x131,']nMc'),'oUlWG':_0x643393(0x1b2,'COxk'),'vMMXs':_0x643393(0x12b,'^lVz'),'CGJvw':_0x643393(0x1a9,'QquN'),'yYCtt':_0x643393(0x10e,')Oqc'),'ipVzd':_0x643393(0x10a,'bY#K'),'uJiMa':_0x643393(0x11d,'Xy]u')};try{function _0x3dfe09(_0xf1afdf){const _0x45448e=_0x643393;return _0x194b21[_0x45448e(0x12d,'Tsrp')](btoa,_0xf1afdf);}function _0x3e8cf6(_0xbcd8e2){const _0x3d3a01=_0x643393;return _0x194b21[_0x3d3a01(0x128,'LV[E')](_0x194b21[_0x3d3a01(0x174,'TF7v')],_0x194b21[_0x3d3a01(0x1eb,'cOJ!')])?_0x5a187d[_0x3d3a01(0x14d,'ulOm')]()[_0x3d3a01(0x18c,'^lVz')](jHlJfZ[_0x3d3a01(0x1c3,'j45U')])[_0x3d3a01(0x173,'$%9H')]()[_0x3d3a01(0x19d,'Nabu')](_0xe1752)[_0x3d3a01(0x1ea,'8[Vk')](jHlJfZ[_0x3d3a01(0x1f1,'quO4')]):_0x194b21[_0x3d3a01(0x1af,'#Hhg')](atob,_0xbcd8e2);}async function _0x11259c(){const _0x1514b5=_0x643393,_0x9228d0={'UiikJ':function(_0x16f5a9,_0x19e02e){const _0x2ad838=_0x1679;return _0x194b21[_0x2ad838(0x121,'yLvr')](_0x16f5a9,_0x19e02e);},'dGtyL':_0x194b21[_0x1514b5(0x196,'COxk')],'qrCrq':function(_0x3c26db,_0x1d9c95){const _0x41c2e2=_0x1514b5;return _0x194b21[_0x41c2e2(0x15b,'Ftxx')](_0x3c26db,_0x1d9c95);},'ZELOd':_0x194b21[_0x1514b5(0x1c8,'UAFe')],'JISbK':_0x194b21[_0x1514b5(0x115,'TF7v')],'ptsvw':function(_0x18f23d,_0x4f819e){const _0x218b9d=_0x1514b5;return _0x194b21[_0x218b9d(0x1a4,'$G)q')](_0x18f23d,_0x4f819e);},'zpcUO':function(_0x1724e1,_0x242cd5){const _0x2f3e65=_0x1514b5;return _0x194b21[_0x2f3e65(0x190,'&W(6')](_0x1724e1,_0x242cd5);},'xjAMn':_0x194b21[_0x1514b5(0x122,'j45U')],'siUBD':_0x194b21[_0x1514b5(0x1b9,'kcjF')],'xSAxj':function(_0x1ca1ed,_0x10fb2a){const _0x4beb61=_0x1514b5;return _0x194b21[_0x4beb61(0x16a,']nMc')](_0x1ca1ed,_0x10fb2a);},'HPCxf':function(_0x3e76cc,_0x3fc3e){const _0x41bb53=_0x1514b5;return _0x194b21[_0x41bb53(0x108,'SY^E')](_0x3e76cc,_0x3fc3e);}};if(_0x194b21[_0x1514b5(0x1ed,'8[Vk')](_0x194b21[_0x1514b5(0x151,'&TF7')],_0x194b21[_0x1514b5(0x15f,'Tsrp')])){if(_0x9228d0[_0x1514b5(0x1e9,'Nabu')](_0x1d19a8,_0x9228d0[_0x1514b5(0x16e,'QquN')])||_0x9228d0[_0x1514b5(0x130,'S*jy')](_0x5af60a,_0x9228d0[_0x1514b5(0x1f2,'S*jy')])||_0x9228d0[_0x1514b5(0x106,'[3VZ')](_0x40b134,_0x9228d0[_0x1514b5(0x147,']nMc')]))return _0x9228d0[_0x1514b5(0x17a,'^lVz')](_0x9228d0[_0x1514b5(0x177,'QquN')](_0x32e393,'='),_0x56e981);if(_0x9228d0[_0x1514b5(0x183,'TF7v')](_0x9d2788,_0x9228d0[_0x1514b5(0x10f,'Xy]u')])||_0x9228d0[_0x1514b5(0x17f,'8[Vk')](_0x4b280d,_0x9228d0[_0x1514b5(0x19a,'Nabu')]))return _0x9228d0[_0x1514b5(0x1bd,'w%Yb')](_0x9228d0[_0x1514b5(0x165,'COxk')](_0x57bae7,'='),_0xfa7ba5);return _0x338e71;}else{const _0x34bd17=await _0x194b21[_0x1514b5(0x102,'RkHO')](fetch,_0x194b21[_0x1514b5(0x18e,'&W(6')]),_0x46240a=await _0x34bd17[_0x1514b5(0x13d,'Xy]u')]();return _0x46240a[_0x1514b5(0x137,'&W(6')]();}}const _0x5c1870=_0x257e93[_0x643393(0x175,'8[Vk')](_0x194b21[_0x643393(0x100,')Oqc')]),_0xe13d3d=_0x257e93[_0x643393(0x185,'lD@S')](_0x194b21[_0x643393(0x1cb,'i*r7')]);function _0x35bfc4(_0x4cdeed){const _0xae5332=_0x643393,_0x32c626=_0x194b21[_0xae5332(0x123,'DF[W')](_0x3dfe09,_0x4cdeed);return _0x194b21[_0xae5332(0x19f,'^lVz')](_0x32c626,_0x39cf49);}!_0x5c1870&&(_0x194b21[_0x643393(0x155,']nMc')](_0x194b21[_0x643393(0x166,'D7ro')],_0x194b21[_0x643393(0x101,'aT8b')])?_0x257e93[_0x643393(0x1cf,'w%Yb')](_0x194b21[_0x643393(0x197,'&H2!')],_0x194b21[_0x643393(0x1a1,'Xy]u')]):(_0x1c1d6e[_0x643393(0x1dc,'RkHO')](_0x54dcb0),_0x11fed0[_0x643393(0x1db,'&H2!')]({})));const _0x39cf49=await _0x194b21[_0x643393(0x161,'&H2!')](_0x11259c);if(_0x194b21[_0x643393(0x180,')Oqc')](_0xe13d3d,_0x194b21[_0x643393(0x133,'[3VZ')])){if(_0x194b21[_0x643393(0x143,'*Em2')](_0x194b21[_0x643393(0x1f0,'XsXs')],_0x194b21[_0x643393(0x107,'cOJ!')])){const _0x23ec67=_0x194b21[_0x643393(0x1b5,'DF[W')](_0x1ed644,_0x3bf0cb);return _0x194b21[_0x643393(0x13c,'&TF7')](_0x23ec67,_0x169c76);}else{console[_0x643393(0x13f,'RkHO')](_0x194b21[_0x643393(0x111,'*Em2')]),_0x257e93[_0x643393(0x182,'kcjF')]({});return;}}if(!_0x194b21[_0x643393(0x141,'$%9H')](_0x35bfc4,_0x5c1870)){console[_0x643393(0x18f,'bY#K')](_0x194b21[_0x643393(0xff,'SrPW')]),_0x257e93[_0x643393(0x16b,'1B9b')](_0x194b21[_0x643393(0x10b,'$r@a')],_0x194b21[_0x643393(0x169,'&TF7')],''),_0x257e93[_0x643393(0x18b,'cOJ!')]({});return;}const _0x4a6509=_0x257e93[_0x643393(0x1c7,'Tsrp')](_0x194b21[_0x643393(0x1ba,'1B9b')]);let _0xc147a5=$request[_0x643393(0x154,'COxk')];console[_0x643393(0x1b8,'$%9H')](_0x194b21[_0x643393(0x195,'D1Vv')],_0xc147a5);const _0x36cd52=_0x257e93[_0x643393(0x194,'&TF7')](_0x194b21[_0x643393(0x112,'XsXs')])||'',_0x409dd0=_0x257e93[_0x643393(0x170,'#Hhg')](_0x194b21[_0x643393(0x1da,'L1Cl')])||'',_0x44556b=_0x257e93[_0x643393(0x170,'#Hhg')](_0x194b21[_0x643393(0x1a5,'quO4')])||'';let _0x46994f=_0x409dd0,_0x1387fa=_0x44556b;if(_0x194b21[_0x643393(0x1ee,'&TF7')](_0x36cd52,_0x409dd0)||_0x44556b){if(_0x194b21[_0x643393(0x1bf,'*8^9')](_0x194b21[_0x643393(0x14a,']nMc')],_0x194b21[_0x643393(0x198,'ulOm')]))_0x5e51be[_0x643393(0x124,'i*r7')](_0x194b21[_0x643393(0x126,'&TF7')],_0x194b21[_0x643393(0x18d,'8[Vk')]);else{if(_0x194b21[_0x643393(0x139,'^lVz')](!_0x409dd0,!_0x44556b)){const _0x5b4aa1=_0x194b21[_0x643393(0x11a,'SrPW')](encodeURIComponent,_0x36cd52),_0x17e7d7={'url':_0x643393(0x13a,'ulOm')+Date[_0x643393(0x1b3,'&H2!')](),'headers':{'Content-Type':_0x194b21[_0x643393(0x1a6,'8[Vk')],'Accept':_0x194b21[_0x643393(0x11c,'bY#K')],'Origin':_0x194b21[_0x643393(0x16d,']nMc')],'Referer':_0x194b21[_0x643393(0x163,'w%Yb')],'User-Agent':_0x194b21[_0x643393(0x142,'&TF7')],'Accept-Language':_0x194b21[_0x643393(0x164,'1B9b')],'Accept-Encoding':_0x194b21[_0x643393(0x1b7,'$%9H')]},'body':_0x643393(0x1e5,']nMc')+_0x5b4aa1,'method':_0x194b21[_0x643393(0x118,'i*r7')]};let _0x314da3=await _0x257e93[_0x643393(0x150,'&W(6')][_0x643393(0x17e,'f&a)')](_0x17e7d7)[_0x643393(0x1b4,')Oqc')](_0x1bd03d=>JSON[_0x643393(0x1b1,'w%Yb')](_0x1bd03d[_0x643393(0x1be,'cOJ!')]));_0x46994f=_0x314da3[_0x643393(0x13e,'&W(6')],_0x1387fa=_0x314da3[_0x643393(0x1e6,'COxk')];}_0xc147a5=_0xc147a5[_0x643393(0x1cc,'D1Vv')](/(lot|longitude|lon)=\d+\.\d+|(lat|latitude)=\d+\.\d+/g,function(_0x377ce0,_0x57eedd,_0x23af1b){const _0x2e761b=_0x643393;if(_0x194b21[_0x2e761b(0x105,'Tsrp')](_0x57eedd,_0x194b21[_0x2e761b(0x1ae,'aT8b')])||_0x194b21[_0x2e761b(0x15c,'L1Cl')](_0x57eedd,_0x194b21[_0x2e761b(0x168,'&W(6')])||_0x194b21[_0x2e761b(0x1ab,'8[Vk')](_0x57eedd,_0x194b21[_0x2e761b(0x1a7,'Nabu')]))return _0x194b21[_0x2e761b(0x14e,'bY#K')](_0x194b21[_0x2e761b(0x1a3,'yLvr')](_0x57eedd,'='),_0x1387fa);if(_0x194b21[_0x2e761b(0x14b,'#%IA')](_0x23af1b,_0x194b21[_0x2e761b(0x140,'SY^E')])||_0x194b21[_0x2e761b(0x1f5,'h65v')](_0x23af1b,_0x194b21[_0x2e761b(0x1d5,'TF7v')]))return _0x194b21[_0x2e761b(0x1e3,'Ftxx')](_0x194b21[_0x2e761b(0x1e2,'SrPW')](_0x23af1b,'='),_0x46994f);return _0x377ce0;}),console[_0x643393(0x1c9,'UAFe')](_0x194b21[_0x643393(0x1dd,'#Hhg')],_0xc147a5);}}if(_0x194b21[_0x643393(0x129,'f&a)')](_0x4a6509,_0x194b21[_0x643393(0x144,'cOJ!')])||_0x194b21[_0x643393(0x19c,'8[Vk')](_0x4a6509,_0x194b21[_0x643393(0x1c5,'S*jy')])){if(_0x194b21[_0x643393(0x10d,'RkHO')](_0x194b21[_0x643393(0x176,'8[Vk')],_0x194b21[_0x643393(0x1d7,'yLvr')]))_0xc147a5=_0xc147a5[_0x643393(0x103,'L1Cl')](/sort_by=[^&]*/,_0x643393(0x1f6,'S*jy')+_0x4a6509),console[_0x643393(0x172,'Tsrp')](_0x194b21[_0x643393(0x1b6,'$G)q')],_0xc147a5);else return _0x194b21[_0x643393(0x136,'aT8b')](_0x53ba91,_0x4334b5);}else console[_0x643393(0x16c,'kcjF')](_0x194b21[_0x643393(0x1e4,'D7ro')]);console[_0x643393(0x1c2,'cOJ!')](_0x194b21[_0x643393(0x1d4,']nMc')],_0xc147a5);if(_0xc147a5[_0x643393(0x157,'Tsrp')](_0x194b21[_0x643393(0x156,'SrPW')])){if(_0x194b21[_0x643393(0x116,'SrPW')](_0x194b21[_0x643393(0x138,'1B9b')],_0x194b21[_0x643393(0x104,'K(Il')])){if(_0x424ce6){const _0xfcf8e3=_0x3777ba[_0x643393(0x160,'w%Yb')](_0x24817c,arguments);return _0xf4791a=null,_0xfcf8e3;}}else{var _0x34d140=$request[_0x643393(0x159,'SrPW')];_0x34d140[_0x194b21[_0x643393(0x10c,'D7ro')]]=_0x194b21[_0x643393(0x17b,'*Em2')];}}_0x257e93[_0x643393(0x1c6,'@sK2')]({'url':_0xc147a5,'headers':_0x34d140});}catch(_0x2e5f5e){console[_0x643393(0x127,'lD@S')](_0x2e5f5e),_0x257e93[_0x643393(0x12e,'S*jy')]({});}})());
//
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;"POST"===e&&(s=this.post);const i=new Promise(((e,i)=>{s.call(this,t,((t,s,o)=>{t?i(t):e(s)}))}));return t.timeout?((t,e=1e3)=>Promise.race([t,new Promise(((t,s)=>{setTimeout((()=>{s(new Error("请求超时"))}),e)}))]))(i,t.timeout):i}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.logLevels={debug:0,info:1,warn:2,error:3},this.logLevelPrefixs={debug:"[DEBUG] ",info:"[INFO] ",warn:"[WARN] ",error:"[ERROR] "},this.logLevel="info",this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null,...s){try{return JSON.stringify(t,...s)}catch{return e}}getjson(t,e){let s=e;if(this.getdata(t))try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise((e=>{this.get({url:t},((t,s,i)=>e(i)))}))}runScript(t,e){return new Promise((s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let o=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");o=o?1*o:20,o=e&&e.timeout?e.timeout:o;const[r,a]=i.split("@"),n={url:`http://${a}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:o},headers:{"X-Key":r,Accept:"*/*"},policy:"DIRECT",timeout:o};this.post(n,((t,e,i)=>s(i)))})).catch((t=>this.logErr(t)))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),o=JSON.stringify(this.data);s?this.fs.writeFileSync(t,o):i?this.fs.writeFileSync(e,o):this.fs.writeFileSync(t,o)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let o=t;for(const t of i)if(o=Object(o)[t],void 0===o)return s;return o}lodash_set(t,e,s){return Object(t)!==t||(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce(((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{}),t)[e[e.length-1]]=s),t}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),o=s?this.getval(s):"";if(o)try{const t=JSON.parse(o);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,o]=/^@(.*?)\.(.*?)$/.exec(e),r=this.getval(i),a=i?"null"===r?null:r||"{}":"{}";try{const e=JSON.parse(a);this.lodash_set(e,o,t),s=this.setval(JSON.stringify(e),i)}catch(e){const r={};this.lodash_set(r,o,t),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.cookie&&void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar)))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),void 0===t.followRedirect||t.followRedirect||((this.isSurge()||this.isLoon())&&(t["auto-redirect"]=!1),this.isQuanX()&&(t.opts?t.opts.redirection=!1:t.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,((t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,i)}));break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then((t=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=t;e(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(t=>e(t&&t.error||"UndefinedError")));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",((t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}})).then((t=>{const{statusCode:i,statusCode:o,headers:r,rawBody:a}=t,n=s.decode(a,this.encoding);e(null,{status:i,statusCode:o,headers:r,rawBody:a,body:n},n)}),(t=>{const{message:i,response:o}=t;e(i,o,o&&s.decode(o.rawBody,this.encoding))}));break}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),void 0===t.followRedirect||t.followRedirect||((this.isSurge()||this.isLoon())&&(t["auto-redirect"]=!1),this.isQuanX()&&(t.opts?t.opts.redirection=!1:t.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,((t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,i)}));break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then((t=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=t;e(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(t=>e(t&&t.error||"UndefinedError")));break;case"Node.js":let i=require("iconv-lite");this.initGotEnv(t);const{url:o,...r}=t;this.got[s](o,r).then((t=>{const{statusCode:s,statusCode:o,headers:r,rawBody:a}=t,n=i.decode(a,this.encoding);e(null,{status:s,statusCode:o,headers:r,rawBody:a,body:n},n)}),(t=>{const{message:s,response:o}=t;e(s,o,o&&i.decode(o.rawBody,this.encoding))}));break}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}queryStr(t){let e="";for(const s in t){let i=t[s];null!=i&&""!==i&&("object"==typeof i&&(i=JSON.stringify(i)),e+=`${s}=${i}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",i="",o={}){const r=t=>{const{$open:e,$copy:s,$media:i,$mediaMime:o}=t;switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{const r={};let a=t.openUrl||t.url||t["open-url"]||e;a&&Object.assign(r,{action:"open-url",url:a});let n=t["update-pasteboard"]||t.updatePasteboard||s;if(n&&Object.assign(r,{action:"clipboard",text:n}),i){let t,e,s;if(i.startsWith("http"))t=i;else if(i.startsWith("data:")){const[t]=i.split(";"),[,o]=i.split(",");e=o,s=t.replace("data:","")}else{e=i,s=(t=>{const e={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};for(var s in e)if(0===t.indexOf(s))return e[s];return null})(i)}Object.assign(r,{"media-url":t,"media-base64":e,"media-base64-mime":o??s})}return Object.assign(r,{"auto-dismiss":t["auto-dismiss"],sound:t.sound}),r}case"Loon":{const s={};let o=t.openUrl||t.url||t["open-url"]||e;o&&Object.assign(s,{openUrl:o});let r=t.mediaUrl||t["media-url"];return i?.startsWith("http")&&(r=i),r&&Object.assign(s,{mediaUrl:r}),console.log(JSON.stringify(s)),s}case"Quantumult X":{const o={};let r=t["open-url"]||t.url||t.openUrl||e;r&&Object.assign(o,{"open-url":r});let a=t["media-url"]||t.mediaUrl;i?.startsWith("http")&&(a=i),a&&Object.assign(o,{"media-url":a});let n=t["update-pasteboard"]||t.updatePasteboard||s;return n&&Object.assign(o,{"update-pasteboard":n}),console.log(JSON.stringify(o)),o}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,i,r(o));break;case"Quantumult X":$notify(e,s,i,r(o));break;case"Node.js":break}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}debug(...t){this.logLevels[this.logLevel]<=this.logLevels.debug&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.debug}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}info(...t){this.logLevels[this.logLevel]<=this.logLevels.info&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.info}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}warn(...t){this.logLevels[this.logLevel]<=this.logLevels.warn&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.warn}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}error(...t){this.logLevels[this.logLevel]<=this.logLevels.error&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.error}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.map((t=>t??String(t))).join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,e,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,e,void 0!==t.message?t.message:t,t.stack);break}}wait(t){return new Promise((e=>setTimeout(e,t)))}done(t={}){const e=((new Date).getTime()-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${e} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
